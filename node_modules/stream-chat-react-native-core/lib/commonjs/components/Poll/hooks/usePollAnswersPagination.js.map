{"version":3,"names":["_react","require","_uniqBy","_interopRequireDefault","_streamChat","_contexts","usePollAnswersPagination","_ref","arguments","length","undefined","_ref$loadFirstPage","loadFirstPage","paginationParams","_usePollContext","usePollContext","poll","_useChatContext","useChatContext","client","_useState","useState","_useState2","_slicedToArray2","pollAnswers","setPollAnswers","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","cursorRef","useRef","queryInProgress","loadMore","useCallback","_asyncToGenerator2","_regenerator","mark","_callee","next","_yield$poll$queryAnsw","newNext","answers","wrap","_callee$","_context","prev","current","abrupt","queryAnswers","filter","options","Object","assign","sort","updated_at","sent","votes","uniqBy","concat","_toConsumableArray2","t0","stop","useEffect","castedListeners","map","eventName","on","event","_event$poll","id","vote","poll_vote","isVoteAnswer","answer","removedListener","_event$poll2","item","forEach","listener","unsubscribe","hasNextPage","exports"],"sourceRoot":"../../../../../src","sources":["components/Poll/hooks/usePollAnswersPagination.ts"],"mappings":"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","ignoreList":[]}
