{"version":3,"names":["_mapMessageToStorable","require","_mapPollToStorable","_mapReactionToStorable","_mapUserToStorable","_QuickSqliteClient","_createUpsertQuery","upsertMessages","_ref","_ref$flush","flush","messages","storableMessages","storableUsers","storableReactions","storablePolls","forEach","message","push","mapMessageToStorable","user","mapUserToStorable","concat","_toConsumableArray2","latest_reactions","own_reactions","r","mapReactionToStorable","poll","mapPollToStorable","finalQueries","map","storableMessage","createUpsertQuery","storableUser","storableReaction","storablePoll","QuickSqliteClient","logger","polls","reactions","users","executeSqlBatch","exports"],"sourceRoot":"../../../../src","sources":["store/apis/upsertMessages.ts"],"mappings":";;;;;;AAEA,IAAAA,qBAAA,GAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAD,OAAA;AACA,IAAAE,sBAAA,GAAAF,OAAA;AACA,IAAAG,kBAAA,GAAAH,OAAA;AACA,IAAAI,kBAAA,GAAAJ,OAAA;AACA,IAAAK,kBAAA,GAAAL,OAAA;AAEO,IAAMM,cAAc,GAAG,SAAjBA,cAAcA,CAAAC,IAAA,EAMrB;EAAA,IAAAC,UAAA,GAAAD,IAAA,CALJE,KAAK;IAALA,KAAK,GAAAD,UAAA,cAAG,IAAI,GAAAA,UAAA;IACZE,QAAQ,GAAAH,IAAA,CAARG,QAAQ;EAKR,IAAMC,gBAAgE,GAAG,EAAE;EAC3E,IAAMC,aAA0D,GAAG,EAAE;EACrE,IAAMC,iBAAkE,GAAG,EAAE;EAC7E,IAAMC,aAA0D,GAAG,EAAE;EAErEJ,QAAQ,oBAARA,QAAQ,CAAEK,OAAO,CAAC,UAACC,OAAwB,EAAK;IAC9CL,gBAAgB,CAACM,IAAI,CAAC,IAAAC,0CAAoB,EAACF,OAAO,CAAC,CAAC;IACpD,IAAIA,OAAO,CAACG,IAAI,EAAE;MAChBP,aAAa,CAACK,IAAI,CAAC,IAAAG,oCAAiB,EAACJ,OAAO,CAACG,IAAI,CAAC,CAAC;IACrD;IACA,GAAAE,MAAA,KAAAC,mBAAA,aAAKN,OAAO,CAACO,gBAAgB,IAAI,EAAE,OAAAD,mBAAA,aAAON,OAAO,CAACQ,aAAa,IAAI,EAAE,GAAGT,OAAO,CAAC,UAACU,CAAC,EAAK;MACrF,IAAIA,CAAC,CAACN,IAAI,EAAE;QACVP,aAAa,CAACK,IAAI,CAAC,IAAAG,oCAAiB,EAACK,CAAC,CAACN,IAAI,CAAC,CAAC;MAC/C;MACAN,iBAAiB,CAACI,IAAI,CAAC,IAAAS,4CAAqB,EAACD,CAAC,CAAC,CAAC;IAClD,CAAC,CAAC;IACF,IAAIT,OAAO,CAACW,IAAI,EAAE;MAChBb,aAAa,CAACG,IAAI,CAAC,IAAAW,oCAAiB,EAACZ,OAAO,CAACW,IAAI,CAAC,CAAC;IACrD;EACF,CAAC,CAAC;EAEF,IAAME,YAAY,MAAAR,MAAA,KAAAC,mBAAA,aACbX,gBAAgB,CAACmB,GAAG,CAAC,UAACC,eAAe;IAAA,OAAK,IAAAC,oCAAiB,EAAC,UAAU,EAAED,eAAe,CAAC;EAAA,EAAC,OAAAT,mBAAA,aACzFV,aAAa,CAACkB,GAAG,CAAC,UAACG,YAAY;IAAA,OAAK,IAAAD,oCAAiB,EAAC,OAAO,EAAEC,YAAY,CAAC;EAAA,EAAC,OAAAX,mBAAA,aAC7ET,iBAAiB,CAACiB,GAAG,CAAC,UAACI,gBAAgB;IAAA,OACxC,IAAAF,oCAAiB,EAAC,WAAW,EAAEE,gBAAgB,CAAC;EAAA,CAClD,CAAC,OAAAZ,mBAAA,aACER,aAAa,CAACgB,GAAG,CAAC,UAACK,YAAY;IAAA,OAAK,IAAAH,oCAAiB,EAAC,MAAM,EAAEG,YAAY,CAAC;EAAA,EAAC,EAChF;EAEDC,oCAAiB,CAACC,MAAM,oBAAxBD,oCAAiB,CAACC,MAAM,CAAG,MAAM,EAAE,gBAAgB,EAAE;IACnD5B,KAAK,EAALA,KAAK;IACLC,QAAQ,EAAEC,gBAAgB;IAC1B2B,KAAK,EAAExB,aAAa;IACpByB,SAAS,EAAE1B,iBAAiB;IAC5B2B,KAAK,EAAE5B;EACT,CAAC,CAAC;EAEF,IAAIH,KAAK,EAAE;IACT2B,oCAAiB,CAACK,eAAe,CAACZ,YAAY,CAAC;EACjD;EAEA,OAAOA,YAAY;AACrB,CAAC;AAACa,OAAA,CAAApC,cAAA,GAAAA,cAAA","ignoreList":[]}
