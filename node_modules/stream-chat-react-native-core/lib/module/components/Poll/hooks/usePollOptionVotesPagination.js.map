{"version":3,"names":["_react","require","_uniqBy","_interopRequireDefault","_streamChat","_contexts","usePollOptionVotesPagination","_ref","_ref$loadFirstPage","loadFirstPage","option","paginationParams","_usePollContext","usePollContext","poll","_useChatContext","useChatContext","client","_useState","useState","_useState2","_slicedToArray2","votes","setVotes","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","cursorRef","useRef","queryInProgress","optionFilter","useMemo","option_id","id","loadMore","useCallback","_asyncToGenerator2","_regenerator","mark","_callee","next","_yield$poll$queryOpti","newNext","_votes","wrap","_callee$","_context","prev","current","abrupt","queryOptionVotes","filter","Object","assign","options","sort","created_at","sent","uniqBy","concat","_toConsumableArray2","t0","stop","useEffect","length","castedListeners","map","eventName","on","event","_event$poll","vote","poll_vote","isVoteAnswer","v","removedListener","_event$poll2","forEach","listener","unsubscribe","hasNextPage","exports"],"sourceRoot":"../../../../../src","sources":["components/Poll/hooks/usePollOptionVotesPagination.ts"],"mappings":"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","ignoreList":[]}
