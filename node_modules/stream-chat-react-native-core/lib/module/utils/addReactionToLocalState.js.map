{"version":3,"names":["_apis","require","_insertReaction","addReactionToLocalState","_ref","channel","enforceUniqueReaction","messageId","reactionType","user","message","state","messages","find","_ref2","id","reaction","created_at","Date","toISOString","message_id","type","updated_at","user_id","hasOwnReaction","own_reactions","length","latest_reactions","currentReaction","filter","r","reaction_groups","count","sum_scores","_defineProperty2","first_reaction_at","last_reaction_at","Object","assign","concat","_toConsumableArray2","updateReaction","insertReaction","exports"],"sourceRoot":"../../../src","sources":["utils/addReactionToLocalState.ts"],"mappings":"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","ignoreList":[]}
